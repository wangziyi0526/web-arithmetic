# 栈和队列

[toc]

在 JavaScript 中，_栈和队列的实现一般都要依赖于数组_，大家完全可以把栈和队列都看做是"特别的数组"。

(注: 实际上，栈和队列作为两种运算受限的线性表，用链表来实现也是没有问题的。只是从前端面试做题的角度来说，基于链表来实现栈和队列约等于脱裤子放屁(链表实现起来会比数组麻烦的多，做不到开箱即用)，基本没人会这么干。这里大家按照数组的思路往下走就行了。)

两者的区别在于，它们各自对数组的*增删操作*有着不一样的限制。因此，在学习栈和队列之前，我们需要先来明确一下数组中的增删操作具有什么样的特性、对应的方法有哪些：

## 灵活增删的数组

数组的增删操作可以说是没有任何限制的，允许我们在任何位置执行想要的操作

### 数组中增加元素的三种方法

- unshift 方法-添加元素到数组的头部

```js
const arr = [1, 2]
arr.unshift(0) // [0,1,2]
```

- push 方法-添加元素到数组的尾部

```js
const arr = [1, 2]
arr.push(3) // [1,2,3]
```

- splice 方法-添加元素到数组的任何位置

```js
const arr = [1, 2]
arr.splice(1, 0, 3) // [1,3,2]
```

这里重点讲一下这个 _splice_ 方法，很多同学对传入两个以上的参数这种用法可能比较陌生，大家相对熟悉的应该还是 splice 用于删除的操作：

```js
arr.splice(1, 1)
```

第一个入参是起始的索引值，第二个入参表示从起始索引开始需要删除的元素个数，这里我们指明索引为 1 的元素开始，删掉 1 个元素，也就相当于把`arr[1]`给删除了，这就是数组中*删除任意位置元素的方法*。

至于传入两个以上参数这种用法，是用于在删除的同时完成数组元素的新增。而从第三个位置开始的入参，都代表着需要添加到数组里的元素的值：

```js
arr.splice(1, 0, 3) // [1,3,2]
```

在这个例子里，我们就指明了从 `arr[1]` 开始，删掉 0 个元素，并且在索引为 1 的地方新增了值为 3 的元素。
因为删掉的元素是 0 个，所以说 `arr[1]` 中原有的元素值“2”仍然会被保留下来；同时因为我们后面又指定了 `arr[1]` 处需要新增一个元素 3，那么这个 3 就会把原来`arr[1]`这个地方的元素给“挤到后面去”。这样我们就做到了在数组中任意位置进行元素的新增。这个过程如下图：
****
![image](https://user-images.githubusercontent.com/26397622/144781327-197e6d34-890f-4b5e-9ff5-52ee4d532aab.png)

